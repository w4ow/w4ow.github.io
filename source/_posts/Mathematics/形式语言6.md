---
title: 形式语言与计算复杂性(五)：可规约性
date: 2021-07-05 20:00
# updated: 0000-00-00 00:00
mathjax: true
meta:
    date: true
categories: 
    - Mathematics
tags:
    - Lecture
---

{% post_link Mathematics/形式语言1 Lecture 0：绪论 %}<br>
{% post_link Mathematics/形式语言2 Lecture 1：正则语言 %}<br>
{% post_link Mathematics/形式语言3 Lecture 2：上下文无关语言 %}<br>
{% post_link Mathematics/形式语言4 Lecture 3：Church-Turing %}<br>
{% post_link Mathematics/形式语言5 Lecture 4：可判定性 %}
Lecture 5: 可规约性
{% post_link Mathematics/形式语言7 Lecture 6：时间复杂度 %}

---

<!-- more -->

上一节课我们介绍了使用对角化方法结合反证法的手段，证明了$A_{TM}$的不可判定性。在本次课程中，我们学习另外一种证明可判定性的方法，我们称之为Reducibility可规约性。所谓的**规约，是指将一个问题$A$转换成另一个问题$B$，而我们能够解决$B$，所以能够解决$A$**。可以看到，规约的最重要的一环，是证明两个问题是等价的。给定一个证明可判定性的问题$A$，根据可规约性，我们可以将$A$转换为一个更简单的问题$B$：
- 如果$B$可规约为$A$，且$A$是可判定的，那么$B$是可判定的。
- 如果$B$可规约为$A$，且$B$是不可判定的，那么$A$是不可判定的。

即：简单的问题不能判定，那么难的问题更不能判定；反之，难的问题都能判定，简单的问题肯定也能判定。在上一课中我们已经证明了$A_{TM}$是不可判定的，现在我们找一些比$A_{TM}$更难的问题，并证明它们可规约为$A_{TM}$且不可判定。

# 1. 语言理论中的不可判定性

1. > 定理：$HALT_{TM}=\\{\langle M,w\rangle|M\mathrm{\ is\ a\ TM\ and}\ M\ \mathrm{halts\ on\ input}\ w\\}$是不可判定的。
   
   我们可以结合规约法和反证法来证明。一个潜在的假设是**$HALT_{TM}$比$A_{TM}$难**，假设$HALT_{TM}$是可判定的且我们有一个图灵机$R$可以判定它，现在我们用$R$来构造一个新的图灵机$S$来判定$A_{TM}$:
   $S$ = "给定输入$\langle M,w\rangle$，其中$M$是图灵机，$w$是字符串
   　　1. 运行输入为$\langle M,w\rangle$的$R$
   　　2. 如果$R$返回reject，则$S$返回$reject$ ($R$是判定器，不会陷入loop，所以当$M$不在$w$上终止时，说明$M$可能陷入了loop，此时$R$会$reject$。)
   　　3. 如果$R$ accept, 基于输入$w$模拟$M$，直到$M$终止。($R$能返回$accept$，说明$M$在$w$上能正常终止，即要么$M$能识别$w$且返回$accept$，要么$M$不能识别且返回$reject$)
   　　4. 如果$M$ accept，则$S$返回$accept$，否则$reject$"
   
   显然，如果$R$能判定$HALT_{TM}$，那么$S$就能判定$A_{TM}$，因为$S$不会陷入loop。而$A_{TM}$是不可判定的，所以$HALT_{TM}$是不可判定的。

2. > 定理：$E_{TM}=\\{\langle M\rangle|M\mathrm{\ is\ a\ TM\ and}\ L(M)=\emptyset\\}$不可判定
   
   与上面的相似，我们利用规约反证。假设$E_{TM}$是可判定的，且图灵机$R$可以判定$E_{TM}$。们利用$R$来构造一个新的图灵机$S$来判定$A_{TM}$。那么，当我们把$A_{TM}$的输入$\langle M,w\rangle$送给$S$，因为我们用$R$来构造$S$，因此$S$会把$\langle M\rangle$送给$R$，直接运行，$R$会有两种结果：
   - $R$返回了$accept$，这时说明$L(M)$为空，所以图灵机$M$不会接受字符串$w$。
   - $R$返回了$reject$，这时说明$L(M)$不空，但此时我们只知道$L(M)\not=\emptyset$，即$M$接受了某些字符串，但$M$是否接受了$\langle M,w\rangle$中的$w$则不得而知了。
   
   因此我们需要对输入进行一些修改，我们修改$\langle M\rangle$使得$M$只能接受字符串$w$，且$M$在$w$上能正常工作。现在修改后的$M$只能接受$w$，进而$R$只能接受$w$。形式化的，我们将修改后的$M$称为$M_1$:

   $M_1$ = "给定输入$x$:
   　　1. 如果$x\not=w$，则$M_1$返回$reject$
   　　2. 如果$x=w$，在$x$上运行$M$，如果$M\ accept$，则$M_1\ accept$"
   
   可以看到，当且仅当$M\ accept\ w$(即$S\ accepts\ \langle M,w\rangle$)时，$L(M_1)\not=\emptyset$(即$R\ rejects\ \langle M_1\rangle$)。然后我们可以构造$S$:

   $S$ = "给定输入$\langle M,w\rangle$，其中$M$是图灵机，$w$是字符串：
   　　1. 构造上述的$M_1$
   　　2. 在$R$上运行$\langle M_1\rangle$
   　　3. 如果$R\ accept$，则$S\ reject$，反之$accept$
   
   显然，如果$R$能判定$E_{TM}$，则$S$能判定$A_{TM}$

3. > $REGULAR_{TM}=\\{\langle M\rangle|M\mathrm{\ is\ a\ TM\ and}\ L(M)\ \mathrm{is\ a\ regular\ language}\\}$不可判定
   
   与上面类似，我们直接给出识别$A_{TM}$的图灵机$S$：

   $S$ = "给定输入$\langle M,w\rangle$，其中$M$是图灵机，$w$是字符串：
   　　1. 构造图灵机$M_2$：
      　　　　$M_2$ = 给定输入$x$:
      　　　　　　1. 如果$x$形式为$0^n1^n$，则$M_2\ accept$
      　　　　　　2. 否则，在$M$上运行$w$，如果$M\ accept\ w$，则$M_2\ accept$，反之$reject$
   　　2. 在$R$上运行$\langle M_2\rangle$
   　　3. 如果$R\ accept$，则$S\ reject$，反之$accept$
   
4. > $EQ_{TM}=\\{\langle M_1,M_2\rangle|M_1,M_2\mathrm{\ is\ TMs\ and}\ L(M_1)=L(M_2)\\}$不可判定
   
   这次我们换一换思路，假设$EQ_{TM}$可判定，我们来证明$E_{TM}$可判定

   $S$ = "给定输入$\langle M\rangle$，其中$M$是图灵机：
   　　1. 构造$M_1$，使得$M_1$拒绝所有的输入
   　　2. 在$R$上运行$\langle M_1\rangle$
   　　3. 如果$R\ accept$，则$S\ accept$，反之$reject$

---

# 2. 一个“简单的”不可判定问题

在上面我们给出了4中语言不可判定的定理及其证明过程，这一节介绍另一个著名的问题，波斯特对应问题(Post correspondence Problem, PCP)。

一个多米诺形如$\left[\frac{a}{ab}\right]$，它包含了上下两串字符串。而多米诺集合则是这样的多米诺的集合，形如
$$\left\\{ \left[\frac{a}{ab}\right],\left[\frac{b}{ca}\right],\left[\frac{ca}{a}\right],\left[\frac{a}{ab}\right]，\left[\frac{abc}{c}\right] \right\\}$$

加入在一个多米诺集合中，如果我们能从中可重复的挑出若干个多米诺组成一个list，且这个list的上面的字符串等于下面的字符串，我们称这个list为一个匹配(Match)。例如在上面的多米诺集合中，我们各拿一个组成list，上面的字符串为$abcaaabc$，下面的也是$abcaaabc$，这个list就是一个匹配。PCP问题就是判断一个多米诺集合是否存在匹配。这个问题无法被任何算法解决。

我们令$P$为一个多米诺集：
$$P=\left\\{ \left[\frac{t_1}{b_1}\right],\left[\frac{t_2}{b_2}\right],\cdots，\left[\frac{t_k}{b_k}\right] \right\\}$$

令$i_1,i_2,...,i_l$是一些下标，这些下标可以使得$t_{i_1}t_{i_2}\cdots t_{i_l}=b_{i_1}b_{i_1}\cdots b_{i_1}$，那么
$$PCP=\\{\langle P\rangle|P \mathrm{\ is\ an\ instance\ of\ the\ PCP\ with\ a\ match}\\}$$

想要证明PCP是不可判定的，我们就需要把它和$A_{TM}$联系起来。首先，我们对PCP稍微修改一下，我们让一个匹配从第一个多米诺$\left[\frac{t_1}{b_1}\right]$开始，即令$i_1=1$，这样的PCP称为MPCP。

---

# 3. 映射规约

---


# 作业

1. Show that $EQ_{CFG}$ is undecidable.
   
   **Answer**
   假设$EQ_{CFG}$可由图灵机$R$判定，由定理5.13可知$ALL_{CFG}$是不可判定的，我们用$R$构造图灵机$S$来判定$ALL_{CFG}$

   $S$ = 给定输入$\langle G\rangle$，$G$是一个CFG:
   1. 构造新的CFG $G'$，使得$L(G')=L(G)=\Sigma^\ast$
   2. 用$R$来判定$\langle G, G'\rangle$
   3. 如果$R\ accept$，则$S\ accept$，否则$S\ reject$
   
   显然，如果$R$能判定$EQ_{CFG}$，那么$S$就能判定$ALL_{CFG}$，这与$ALL_{CFG}$不可判定矛盾

2. Find a match in the following instance of the Post Correspondence Problem.
   $$\left\\{ \left[\frac{ab}{abab}\right],\left[\frac{b}{a}\right],\left[\frac{aba}{b}\right],\left[\frac{aa}{a}\right] \right\\}$$

   **Answer**
   $$\left[\frac{aa}{a}\right],\left[\frac{aa}{a}\right],\left[\frac{b}{a}\right],\left[\frac{ab}{abab}\right]$$

3. Show that if $A$ is Turing-recognizable and $A\le_m \overline{A}$, then $A$ is decidable.
   
   **Answer**
   由$A\le_m\overline{A}\Leftrightarrow\overline{A}\le_m A$，因为$A$是图灵可识别的，根据定理5.28，$\overline{A}$是图灵可识别的。因为$A$和$\overline{A}$都是可是别的，根据定理4.22，$A$是可判定的。
