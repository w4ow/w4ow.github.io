---
title: 进程的基本概念
date: 2015-03-07 14:12
updated: 2015-03-07 14:12
mathjax: true
meta:
    date: false
categories: 
    - Computer Science
    - Operating System
tags:
    - Process
---

为了有效的管理CPU，OS引入进程的概念，即以进程为基本单位来实现CPU的分配与执行。

---

<!-- more -->

## 1. 进程的概念

### 1.1 程序的顺序执行

在计算机中常使用程序这个概念，**程序是一个在时间上严格按先后次序操作实现算法功能的指令序列**，程序本身是静态的，是指令编译出的结果。在单道程序设计环境中，程序总是顺序执行的，若有多个程序，则各个程序试一次呗调入内存的。程序的顺行执行有以下三个特点：

1. 顺序性。CPU严格按照程序规定的顺序(即指令顺序)执行程序的操作，每个操作都必须在前一个操作结束后才能执行；
2. 封闭性。程序一旦开始执行，其结果仅由初始条件和程序本身操作决定，不受外界因素影响；
3. 可再现性。当初始条件相同，程序的运行结果也相同。

单道程序的顺序性、封闭性和可再现性给程序的编制、调试带来了便利，但是资源利用率底。

### 1.2 程序的并发执行

### 1.3 进程

#### 1.3.1. 进程的定义

单道程序环境下，程序与CPU执行的活动是一致的。多道环境下，并发破坏了程序的封闭性和可再现性，程序与CPU执行的活动不再一一对应。**程序是完成某一特定功能的指令序列，是一个静态过程**，而CPU执行的活动是一个动态的过程。因此20世纪60年代Dijkstra引入了进程的概念。他给出的进程定义是：**行为的规则称为程序，程序在CPU上执行时的活动称为进程**。

#### 1.3.2. 进程的结构

通常程序是不能并发执行的，**为了使程序及它所要使用的资源能独立运行，OS为程序配置了一个特殊的数据结构进程控制块PCB(Process Control Block)**，PCB用来存储程序向前执行过程中所要记录的有关运行信息，即该进程动态之行的相关资料。因此：
<center>进程实体 = 程序段 + 相关数据段 + PCB</center>

#### 1.3.3. 进程的特征

进程作为OS的一个实体有以下5个特征。

1. 动态性。进程是程序的一次执行，因此进程是动态的，具有生命期。
2. 并发性。多个进程实体在一段时间内能够并发执行，从而提高系统资源利用率。
3. 独立性。每个进程都是一个独立运行的基本单位，也是系统进行资源分配和调度的基本单位。
4. 异步性。各进程按各自独立的、不可预知的速度向前推进。对单CPU系统而言，任何时刻只能有一个进程占用CPU。
5. 结构性。每个进程的结构都由程序段、数据段和PCB组成。

#### 1.3.4. 进程和程序的区别

1. 程序是指令的有序集合，是静态的；Process是程序在CPU上的一次执行，是动态的；
2. 程序作为软件可以长期保存；Process有自己的生命周期；
3. 程序不会占有和调度资源；Process会为其分配和调度资源；
4. 进程与程序之间无一一对应关系，一个程序可以多次执行产生多个进程，不同进程也可以包含同一个程序；
5. 程序是记录在存储介质上的指令有序集合；进程则由程序段、数据段、PCB组成。

## 2. 进程的状态及转换

### 2.1. 5状态进程模型

进程有5个状态：创建、就绪、运行、阻塞、终止，下面对其一一说明。

1. 进程的创建。通常有4件事会导致新进程的产生：
    - 在一个批处理环境中，为了响应一个任务的要求而产生进程；
    - 在一个交互式环境中，当一个新用户企图登录时会产生进程；
    - 操作系统代替用户程序产生进程；
    - 由用户程序产生进程。通常进程都是由操作系统产生的，但是一个进程也可以产生另一个进程，分别称为父进程和子进程。
2. 进程的终止。当一个进程执行到自然结束点，或因不可克服的错误而不得不取消时，或被拥有特定权限的进程取消时，该进程进入终止态。处于终止态的进程不能被再次调度执行，与其相关的数据信息由OS临时保存，随后OS逐步释放为其分配的资源，最后释放PCB。
3. 进程的就绪。进程获得了除CPU之外的所需资源，一旦得到CPU就可运行。就绪状态的进程会组成就绪队列。
4. 进程的运行。进程获得了CPU和其他资源，正在CPU上运行时的状态。
5. 进程的阻塞。进程运行中发生了某种等待事件(如I/O操作)而暂时不能运行的状态，此状态的进程不能竞争CPU，而需要等事件完成后转到就绪态才能竞争。
